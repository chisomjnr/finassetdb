<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <title> FinAsset  | Customer Accounts </title>
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="home2.css">
    <link rel="stylesheet" href="customer-account-home.css">
    <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.1.0/fonts/remixicon.css"
    rel="stylesheet"
  />
    <link
    href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css"
    rel="stylesheet"
  />


  <meta name="title" content="Welcome to FinAsset">
  <meta name="description" content="FinAsset is your comprehensive solution for efficient asset management. Track, manage, and optimize your assets with ease.">
  

  <link rel="icon" href="assets/social (2).png" type="image/x-icon">
    <!-- Boxicons CDN Link -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Additional styles for the submenu */
     .submenu {
         background: #312b1b;
         padding: 10px;
         border-radius: 10px;
         margin-top: 10px;
         overflow: hidden;  /* Important for the dropdown effect */
         max-height: 0;     /* Start with height 0 (collapsed) */
         transition: max-height 0.4s ease, padding 0.4s ease; /* Animate max-height and padding */
     }
     
     .line {
         border-bottom: 1px solid #2b284b;
     }
     
     .line2 {
         border-bottom: 2px solid #bab9cb;
         margin-left: 30px;
         margin-right: 30px;
     }
     
     .submenu, .nested-submenu, .nested-submenu2 {
         list-style-type: none;
         max-height: 0; /* Initially set max-height to 0 for hidden state */
         padding: 0;    /* Collapse padding initially */
     }
     
     .submenu li, .nested-submenu li, .nested-submenu2 li {
         padding: 1px;
     }
     
     .submenu li a, .nested-submenu li a, .nested-submenu2 li a {
         color: #fff;
         text-decoration: none;
         padding-left: 20px;
         background: transparent;
     }
     
     .submenu li i, .nested-submenu li i, .nested-submenu2 li i {
         font-size: 20px;
     }
     
     .submenu li a:hover {
         background: #1d1b31;
         color: white;
     }
     
     .submenu .dropdown-toggle {
         background: #E4E9F7;
         color: black;
     }
     
     .submenu .dropdown-toggle i {
         color: black;
     }
     
     .dropdown-toggle {
         display: flex;
         justify-content: space-between;
         align-items: center;
     }
     
     .rotate {
         transform: rotate(180deg);
     }
     
     /* Class for when submenu is open */
     .submenu.open {
         max-height: 500px; /* A large enough height to fit the content */
         padding: 10px;     /* Restore padding when open */
         transition: max-height 0.5s ease, padding 0.4s ease; /* Smooth dropdown animation */
     }
     
     
           </style>



  </head>
<body>
  <div class="sidebar">
    <div class="logo-details">
        <img src="assets/social (1).png" alt="">
        <div class="logo_name">FinAsset<span id="span">.</span></div>
        <i class='bx bx-menu' id="btn" ></i>
    </div>
    <ul class="nav-list">
      <li>
          <i class='bx bx-search' ></i>
         <input type="text" placeholder="Search in sidebar...">
         <span class="tooltip">Search</span>
      </li>
      
      <li>
        <a  href="index.html">
          <i class='bx bx-home-alt'></i>
          <span class="links_name">Home</span>
        </a>
         <span class="tooltip">Home</span>
      </li>


<br>
      <div class="line"></div>
      <br>


      <!-- Customer Management with Submenu -->
      

     <li>
      <a href="customer-management-home.html">
        <i class='bx bx-user'></i>
        <span class="links_name">Customer Management</span>
      </a>
       <span class="tooltip">Customer Management</span>
    </li>

   <!-- Customer Account Menu -->

<li>
  <a id="active" href="customer-account-home.html">
    <i class='bx bxs-user-account'></i>
    <span class="links_name">Customer Account</span>
  </a>
   <span class="tooltip">Customer Account</span>
</li>

 


    <!-- Assets Management -->
    <li>
      <a href="assetm-home.html">
        <i class='bx bxs-bar-chart-alt-2'></i>
  <span class="links_name">Asset Management</span>
      </a>
       <span class="tooltip">Assets</span>
    </li>

     





    <!-- Account Management with Submenu -->
   <li>
      <a href="assetm-home.html">
        <i class='bx bxs-group'></i>
  <span class="links_name">Account Management</span>
      </a>
       <span class="tooltip">Account Management</span>
    </li>
  
     <li>
       <a href="administrator.html">
         <i class='bx bx-shield'></i>
         <span class="links_name">Administrator</span>
       </a>
       <span class="tooltip">Administrator</span>
     </li>

<!--    
     <br>
     <div class="line"></div>
     <br>


     <li>
      <a href="notification.html">
        <i class='bx bx-bell'></i>
        <span class="links_name">Notifications</span>
      </a>
      <span class="tooltip">Notifications</span>
    </li>

    <li>
      <a   href="SeamAi.html">
          <i class='bx bx-grid-alt'></i>
        <span class="links_name">SeamAi | <strong>Coming Soon</strong></span>
      </a>
      <span class="tooltip">SeamAi</span>
    </li>
<br>
    <div class="line"></div>
    <br>
     <li>
        <a href="Learn.html">
          <i class='bx bx-book'></i>
          <span class="links_name">Help Guide</span>
        </a>
        <span class="tooltip">Help</span>
      </li>

      <li>
        <a   href="support.html">
            <i class='ri-customer-service-2-line'></i>
          <span class="links_name">Our Support</span>
        </a>
        <span class="tooltip">Support</span>
      </li> -->

  
     <br>
     <br>
     <li class="profile">
         <div class="profile-details">
           <div class="name_job">
             <div class="name">Company Name</div>
             <div class="job">by <strong>Globalseam</strong></div>
           </div>
         </div>
         <i class='bx bx-log-out' id="log_out"></i>

     </li>
    </ul>
  </div>




  <script>
    let sidebar = document.querySelector(".sidebar");
    let closeBtn = document.querySelector("#btn");
    let searchBtn = document.querySelector(".bx-search");
  
    // Check localStorage for sidebar state on page load
    document.addEventListener("DOMContentLoaded", () => {
      const isSidebarOpen = localStorage.getItem("sidebar-open");
  
      if (isSidebarOpen === "true") {
        sidebar.classList.add("open");
      } else {
        sidebar.classList.remove("open");
      }
      menuBtnChange(); // Update the button icon based on sidebar state
    });
  
    // Toggle sidebar open/close and save the state to localStorage
    closeBtn.addEventListener("click", () => {
      sidebar.classList.toggle("open");
      updateSidebarState(); // Save the state when sidebar is toggled
    });
  
    searchBtn.addEventListener("click", () => {
      sidebar.classList.toggle("open");
      updateSidebarState(); // Save the state when sidebar is toggled
    });
  
    // Function to update sidebar state in localStorage
    function updateSidebarState() {
      const isOpen = sidebar.classList.contains("open");
      localStorage.setItem("sidebar-open", isOpen); // Save the state (true or false)
      menuBtnChange(); // Update the button icon
    }
  
    // Function to change sidebar button icon (optional)
    function menuBtnChange() {
      if (sidebar.classList.contains("open")) {
        closeBtn.classList.replace("bx-menu", "bx-menu-alt-right"); // Replacing the icon class
      } else {
        closeBtn.classList.replace("bx-menu-alt-right", "bx-menu"); // Replacing the icon class
      }
    }
  </script>
  



   <!-- Main Screen -->

   <section class="home-section">
  
    <div class="wrapper">
      <nav>
        <input type="checkbox" id="show-search">
        <input type="checkbox" id="show-menu">
        <label for="show-menu" class="menu-icon"><i class="fas fa-bars"></i></label>
        <div class="content">
        <div class="logo"><a href="#">FinAsset<strong style="color: orange;">.</strong></a> </div>
          <ul class="links">
            <li><a id="goBackLink" href="#">< Back to Previous Page</a></li>

            
            <script>
              document.getElementById("goBackLink").addEventListener("click", function(event) {
                  event.preventDefault(); // Prevent the default behavior of the link
              
                  history.back(); // Go back to the previous page
              });
              </script>

            <!-- <li>
              <a href="#" class="desktop-link">Services</a>
              <input type="checkbox" id="show-services">
              <label for="show-services">Services</label>
              <ul>
                <li><a href="#">Drop Menu 1</a></li>
                <li><a href="#">Drop Menu 2</a></li>
                <li><a href="#">Drop Menu 3</a></li>
                <li>
                  <a href="#" class="desktop-link">More Items</a>
                  <input type="checkbox" id="show-items">
                  <label for="show-items">More Items</label>
                  <ul>
                    <li><a href="#">Sub Menu 1</a></li>
                    <li><a href="#">Sub Menu 2</a></li>
                    <li><a href="#">Sub Menu 3</a></li>
                  </ul>
                </li>
              </ul>
            </li> -->
    
          </ul>
        </div>
        <div class="hqi">
          <!-- <a href="notification.html"><i class="bx bx-bell"></i></a>
         Report <a style="z-index: 999999999;" href="support.html"><i  class="ri-customer-service-2-line"></i></a>  -->
        </div>
        <label for="show-search" class="search-icon"><i class="fas fa-search"></i></label>
        <form action="#" class="search-box">
          <input type="text" placeholder="Type Something to Search..." required>
          <button type="submit" class="go-icon"><i class="fas fa-long-arrow-alt-right"></i></button>
        </form>
      </nav>
    </div>


    <style>
      .popup-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.7);
          display: none;
          justify-content: center;
          align-items: center;
          z-index: 999999;
          overflow-y: scroll;
          scrollbar-width: none; /* For Firefox */
      }
  
      .popup-form {
          background-color: white;
          padding: 30px;
          border-radius: 10px;
          max-width: 800px;
          width: 100%;
          transform: translateY(100%);
          animation: slide-in 0.5s forwards;
      }
  
      @keyframes slide-in {
          from {
              transform: translateY(100%);
          }
          to {
              transform: translateY(0);
          }
      }
  
      /* Show the popup */
      .show-popup {
          display: flex;
      }
  
      /* Horizontal scrollable table */
      .table-wrapper {
          overflow-x: auto;
          padding: 10px;
          margin-top: 10px;
      }
  
      .accounts-table {
          width: 100%;
          min-width: 1500px; /* Set minimum width to allow horizontal scrolling */
          border-collapse: collapse;
      }
  
      .accounts-table th, .accounts-table td {
          padding: 10px;
          text-align: left;
          border-bottom: 1px solid #ddd;
      }
  
      /* Scrollbar styling */
      .table-wrapper::-webkit-scrollbar {
          height: 3px;
      }
  
      .table-wrapper::-webkit-scrollbar-thumb {
          background-color: orange;
          border-radius: 10px;
      }
  
      .table-wrapper::-webkit-scrollbar-thumb:hover {
          background-color: #343434;
      }
  
      .table-wrapper::-webkit-scrollbar {
          background-color: #f1f1f1;
      }






      /* General Table Styles */
.accounts-table2 {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    background-color: #fff;
    overflow: hidden;
    border-radius: 8px;
}

.accounts-table2 th, .accounts-table2 td {
    padding: 12px 15px;
    border: 1px solid #ddd;
    text-align: left;
}

.accounts-table2 th {
    background-color: #1F2739;
    color: #fff;
    font-weight: bold;
}

.accounts-table2 td {
    color: #333;
}

/* Adding hover effect for rows */
.accounts-table2 tr:hover {
    background-color: #f1f1f1;
    transition: background-color 0.3s;
}

/* Adding hover effect for columns */
.accounts-table2 td:hover {
    background-color: #eaeaea;
    transition: background-color 0.3s;
}

/* Adding hover effect for cells */
.accounts-table2 td:hover,
.accounts-table2 th:hover {
    cursor: pointer;
    background-color: #d1d1d1;
    transition: background-color 0.3s;
}

/* Styling for status cells (Optional: if you have status data) */
.accounts-table2 .status.active {
    color: green;
    font-weight: bold;
}

.accounts-table2 .status.inactive {
    color: red;
    font-weight: bold;
}

/* Zebra-striping for even rows */
.accounts-table2 tr:nth-child(even) {
    background-color: #f4f4f9;
}

/* Responsive Styles */
@media screen and (max-width: 768px) {
    .accounts-table2 {
        font-size: 14px;
    }
}

  
  </style>
  
  <div style="display: flex; justify-content: space-between; align-items: center; padding: 30px;">
      <div style="text-align: left;">
             <h1 style="font-size: 35px; color: #181818; line-height: 1.2;" line-height: 1.2;">Results</h1>
      </div>
  </div>
  
  <br>
  
  <!-- Main Content Area -->
  <main>
      <div class="content-header">
          <h2>Cash Statement Of Account</h2>
          <button class="add-btn" id="openPopupBtn"><i class="bx bx-upload"></i> Add New</button>
      </div>


      <style>
        table {
          width: 100%;
          border-collapse: collapse;
          font-family: Arial, sans-serif;
          box-shadow: 0 0 10px rgba(39, 39, 39, 0.314);
        }
        thead th {
          background-color: #cf9b39;
          color: white;
          padding: 10px;
          text-align: left;
 
        }
        tbody td {
          padding: 10px;
          border: 1px solid #ddd;
        }
        tbody tr:nth-child(even) {
          background-color: #f2f2f2;
        }
        tbody tr:hover {
          background-color: #ddd;
        }
        tbody td {
          text-align: right;
        }
        tbody td:first-child, tbody td:nth-child(2), tbody td:nth-child(3) {
          text-align: left;
        }
        th, td {
          text-align: left;
          padding: 8px;
        }
        tr:nth-child(even) {
          background-color: #f2f2f2;
        }
        tr:hover {
          background-color: #ddd;
        }
      </style>

      <table class="accounts-table2">
        <thead>
            <tr>
                <th colspan="2">HEAD OFFICE</th>
                <th colspan="4">CASH STATEMENT OF ACCOUNT</th>
            </tr>
            <tr>
                <td>Account:</td>
                <td>000019060001</td>
                <td>Location:</td>
                <td>001 HEAD OFFICE</td>
            </tr>
            <tr>
                <td>Statement Period:</td>
                <td>01/01/2009 to 17/02/2015</td>
                <td>Currency:</td>
                <td>NGN Nigerian Naira</td>
            </tr>
            <tr>
                <td colspan="2">Address:</td>
                <td colspan="2"></td>
            </tr>
        </thead>
      </table>
        <br>
        <table>
            <thead>
              <tr>
                <th>DATE</th>
                <th>REFERENCE</th>
                <th>DESCRIPTION</th>
                <th>DEBIT</th>
                <th>CREDIT</th>
                <th>BALANCE</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>01/01/2009</td>
                <td></td>
                <td>Opening Balance</td>
                <td></td>
                <td></td>
                <td>0.00</td>
              </tr>
              <tr>
                <td>12/11/2010</td>
                <td>560019060004</td>
                <td>INVESTMENT LIQUIDATION [560019060004: PRINCIPAL]</td>
                <td></td>
                <td>188,918,699.67</td>
                <td>188,918,699.67</td>
              </tr>
              <tr>
                <td>12/11/2010</td>
                <td>560019060004</td>
                <td>INVESTMENT LIQUIDATION [560019060004: INTEREST]</td>
                <td></td>
                <td>427,008.02</td>
                <td>189,345,707.69</td>
              </tr>
              <tr>
                <td>12/11/2010</td>
                <td>JULY ISPO</td>
                <td>DEPOSIT ROLLOVER [OLD: 560019060004; NEW: 560019060005]</td>
                <td>189,345,707.69</td>
                <td></td>
                <td>0.00</td>
              </tr>
              <tr>
                <td>12/11/2010</td>
                <td>560019060005</td>
                <td>INVESTMENT LIQUIDATION [560019060005: PRINCIPAL]</td>
                <td></td>
                <td>188,918,699.67</td>
                <td>188,918,699.67</td>
              </tr>
              <tr>
                <td>12/11/2010</td>
                <td>560019060005</td>
                <td>INVESTMENT LIQUIDATION [560019060005: INTEREST]</td>
                <td></td>
                <td>427,008.02</td>
                <td>189,345,707.69</td>
              </tr>
              <tr>
                <td>12/11/2010</td>
                <td>AUGUST ISPO</td>
                <td>DEPOSIT ROLLOVER [OLD: 560019060005; NEW: 560019060006]</td>
                <td>189,345,707.69</td>
                <td></td>
                <td>0.00</td>
              </tr>
              <tr>
                <td>22/11/2010</td>
                <td></td>
                <td>Investment at Maturity</td>
                <td></td>
                <td>190,405,878.33</td>
                <td>190,405,878.33</td>
              </tr>
              <tr>
                <td>24/11/2010</td>
                <td>560019060006</td>
                <td>INVESTMENT LIQUIDATION [560019060006: PRINCIPAL]</td>
                <td></td>
                <td>188,918,699.07</td>
                <td>379,324,577.40</td>
              </tr>
              <tr>
                <td>24/11/2010</td>
                <td>560019060006</td>
                <td>INVESTMENT LIQUIDATION [560019060006: INTEREST]</td>
                <td></td>
                <td>427,008.02</td>
                <td>379,751,585.42</td>
              </tr>
              <tr>
                <td>24/11/2010</td>
                <td>SEPTEMBER ISPO</td>
                <td>DEPOSIT ROLLOVER [OLD: 560019060006; NEW: 570019060003]</td>
                <td>189,345,707.09</td>
                <td></td>
                <td>190,405,878.33</td>
              </tr>
              <tr>
                <td>24/11/2010</td>
                <td>570019060003</td>
                <td>LIQ [570019060003: PRINCIPAL]</td>
                <td>377,837,399.34</td>
                <td></td>
                <td>-187,431,521.01</td>
              </tr>
              <tr>
                <td>24/11/2010</td>
                <td>570019060003</td>
                <td>LIQ [570019060003: INTEREST]</td>
                <td></td>
                <td>931,653.86</td>
                <td>-186,363,174.67</td>
              </tr>
              <tr>
                <td>24/11/2010</td>
                <td>570019060002</td>
                <td>LIQ [570019060002: PRINCIPAL]</td>
                <td>189,881,408.66</td>
                <td></td>
                <td>-378,244,583.53</td>
              </tr>
              <tr>
                <td>24/11/2010</td>
                <td>570019060002</td>
                <td>LIQ [570019060002: INTEREST]</td>
                <td></td>
                <td>546,234.19</td>
                <td>-378,790,817.72</td>
              </tr>
              <tr>
                <td>15/12/2010</td>
                <td>UAML</td>
                <td>INVT WITH UAML</td>
                <td>377,837,399.34</td>
                <td></td>
                <td>-953,418.38</td>
              </tr>
              <tr>
                <td>15/12/2010</td>
                <td>560019060007</td>
                <td>INVESTMENT LIQUIDATION [560019060007: PRINCIPAL]</td>
                <td></td>
                <td>189,345,707.69</td>
                <td>188,392,289.31</td>
              </tr>
              <tr>
                <td>15/12/2010</td>
                <td>560019060007</td>
                <td>INVESTMENT LIQUIDATION [560019060007: INTEREST]</td>
                <td></td>
                <td>427,973.17</td>
                <td>188,820,262.48</td>
              </tr>
              <tr>
                <td>15/12/2010</td>
                <td>JULY ISPO</td>
                <td>DEPOSIT ROLLOVER [OLD: 560019060007; NEW: 560019060009]</td>
                <td>189,773,680.86</td>
                <td></td>
                <td>-953,418.38</td>
              </tr>
              <tr>
                <td>23/12/2010</td>
                <td>560019060009</td>
                <td>INVESTMENT LIQUIDATION [560019060009: PRINCIPAL]</td>
                <td></td>
                <td>189,345,707.69</td>
                <td>188,392,289.31</td>
              </tr>
              <tr>
                <td>23/12/2010</td>
                <td>560019060009</td>
                <td>INVESTMENT LIQUIDATION [560019060009: INTEREST]</td>
                <td></td>
                <td>427,973.17</td>
                <td>188,820,262.48</td>
              </tr>
              <tr>
                <td>23/12/2010</td>
                <td>AUGUST ISPO</td>
                <td>DEPOSIT ROLLOVER [OLD: 560019060009; NEW: 560019060012]</td>
                <td>189,773,680.26</td>
                <td></td>
                <td>-953,418.38</td>
              </tr>
              <tr>
                <td>23/12/2010</td>
                <td>560019060012</td>
                <td>INVESTMENT LIQUIDATION [560019060012: PRINCIPAL]</td>
                <td></td>
                <td>188,918,699.67</td>
                <td>187,965,281.29</td>
              </tr>
              <tr>
                <td>23/12/2010</td>
                <td>560019060012</td>
                <td>INVESTMENT LIQUIDATION [560019060012: INTEREST]</td>
                <td></td>
                <td>504,645.84</td>
                <td>188,469,927.13</td>
              </tr>
              <tr>
                <td>23/12/2010</td>
                <td>SEPTEMBER ISPO</td>
                <td>DEPOSIT ROLLOVER [OLD: 560019060012; NEW: 560019060012]</td>
                <td>189,423,345.51</td>
                <td></td>
                <td>-953,418.38</td>
              </tr>
            </tbody>
          </table>
          
    


<br>
<br>


























































          </section>
      </div>
  </div>

    <script>
    const openPopupBtn = document.getElementById('openPopupBtn');
    const popupOverlay = document.getElementById('popupOverlay');
    const customerForm = document.getElementById('customerForm');
    const accountsTable = document.getElementById('accountsTable').getElementsByTagName('tbody')[0];
    let customerCount = 1;
    let editingCustomerIndex = null;

    // Load saved customers from localStorage on page load
    document.addEventListener('DOMContentLoaded', loadCustomers);

    // Open the popup for "Create Customer"
    openPopupBtn.addEventListener('click', () => {
        openPopup('create');
        generateCustomerID(); // Generate Customer ID when popup opens
    });

    // Close popup when clicking outside
    popupOverlay.addEventListener('click', (event) => {
        if (event.target === popupOverlay) {
            popupOverlay.classList.remove('show-popup');
        }
    });

// Open Popup for Create, View, or Edit mode
function openPopup(mode, customer = null) {
    if (mode === 'create') {
        popupHeader.textContent = 'Create Customer'; // Set popup header
        generateCustomerID(); // Generate a new Customer ID
        customerForm.reset(); // Reset form fields for a new customer
        editingCustomerIndex = null;
        toggleFormEditable(true); // Make form editable for create
    } else if (mode === 'edit' || mode === 'view') {
        popupHeader.textContent = mode === 'edit' ? 'Edit Customer' : 'View Customer'; // Change header based on mode
        fillFormWithCustomerData(customer); // Populate form with customer data
        editingCustomerIndex = customer.index;
        toggleFormEditable(mode === 'edit'); // Make form editable only in edit mode
    }
    popupOverlay.classList.add('show-popup'); // Show the popup
}

// Fill the form with customer data (used for View and Edit)
function fillFormWithCustomerData(customer) {
    document.getElementById('customerID').value = customer.customerID;
    const [firstName, lastName] = customer.name.split(' ');
    document.getElementById('firstName').value = firstName;
    document.getElementById('lastName').value = lastName;
    document.getElementById('email').value = customer.email;
    document.getElementById('password').value = customer.password;
}


    // Generate Customer ID automatically
    function generateCustomerID() {
        customerCount++; // Increment customer count for each new customer
        const customerIDInput = document.getElementById('customerID');
        customerIDInput.value = 'CUST' + ('000' + customerCount).slice(-3);
    }

    // Get current time in HH:MM AM/PM format
    function getCurrentTime() {
        const now = new Date();
        let hours = now.getHours();
        let minutes = now.getMinutes();
        const ampm = hours >= 12 ? 'PM' : 'AM';
        hours = hours % 12;
        hours = hours ? hours : 12; // hour '0' should be '12'
        minutes = minutes < 10 ? '0' + minutes : minutes;
        return hours + ':' + minutes + ' ' + ampm;
    }

    // Get current date in YYYY-MM-DD format
    function getCurrentDate() {
        const now = new Date();
        return now.toISOString().split('T')[0];
    }

    // Handle form submission to add a new or edit existing customer
    customerForm.addEventListener('submit', (event) => {
        event.preventDefault(); // Prevent form from refreshing the page

        // Get form values
        const firstName = document.getElementById('firstName').value;
        const lastName = document.getElementById('lastName').value;
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const customerID = document.getElementById('customerID').value;
        const timeJoined = getCurrentTime();
        const dateJoined = getCurrentDate();

        // Create or Update customer object
        const newCustomer = {
            customerID,
            name: `${firstName} ${lastName}`,
            email,
            password,
            timeJoined,
            dateJoined,
            status: 'Active'
        };

        if (editingCustomerIndex === null) {
            // New customer (Create mode)
            addCustomerToTable(newCustomer);
            saveCustomer(newCustomer);
        } else {
            // Edit existing customer
            updateCustomer(newCustomer, editingCustomerIndex);
        }

        // Close the popup after adding/editing
        popupOverlay.classList.remove('show-popup');
        customerForm.reset();
        generateCustomerID();
    });

    // Fill the form with customer data (used for View and Edit)
    function fillFormWithCustomerData(customer) {
        document.getElementById('customerID').value = customer.customerID;
        const [firstName, lastName] = customer.name.split(' ');
        document.getElementById('firstName').value = firstName;
        document.getElementById('lastName').value = lastName;
        document.getElementById('email').value = customer.email;
        document.getElementById('password').value = customer.password;
    }

    // Toggle form editable (used for View/Edit modes)
    function toggleFormEditable(isEditable) {
        const formInputs = customerForm.querySelectorAll('input');
        formInputs.forEach(input => input.readOnly = !isEditable);
        const commitButton = customerForm.querySelector('button[type="submit"]');
        commitButton.style.display = isEditable ? 'block' : 'none'; // Hide button if not editable
    }

    // Add customer to the table
    function addCustomerToTable(customer) {
        const newRow = accountsTable.insertRow();
        newRow.innerHTML = `
            <td><input type="checkbox"></td>
            <td>${customer.customerID}</td>
            <td>${customer.name}</td>
            <td>${customer.email}</td>
            <td>${'*'.repeat(customer.password.length)}</td> <!-- Password masked with * -->
            <td>${customer.timeJoined}</td>
            <td>${customer.dateJoined}</td>
            <td class="status active">${customer.status}</td>
            <td>
                <button class="view-btn" onclick="viewCustomer(${accountsTable.rows.length - 1})">View</button>
                <button class="edit-btn" onclick="editCustomer(${accountsTable.rows.length - 1})">Edit</button>
                <button class="delete-btn" onclick="deleteCustomer(${accountsTable.rows.length - 1})">Delete</button>
            </td>
        `;
    }

    // Save a customer to localStorage
    function saveCustomer(customer) {
        let customers = JSON.parse(localStorage.getItem('customers')) || [];
        customers.push(customer);
        localStorage.setItem('customers', JSON.stringify(customers));
    }

    // Load customers from localStorage and populate the table
    function loadCustomers() {
        let customers = JSON.parse(localStorage.getItem('customers')) || [];
        customers.forEach((customer, index) => {
            customer.index = index;
            addCustomerToTable(customer);
        });
        customerCount = customers.length; // Update customer count to match saved customers
    }

     // View customer details (open popup in View mode)
     function viewCustomer(rowIndex) {
        let customers = JSON.parse(localStorage.getItem('customers')) || [];
        const customer = customers[rowIndex];
        openPopup('view', customer);
    }

    // Edit customer details (open popup in Edit mode)
    function editCustomer(rowIndex) {
        let customers = JSON.parse(localStorage.getItem('customers')) || [];
        const customer = customers[rowIndex];
        openPopup('edit', customer);
    }

    // Update an existing customer
    function updateCustomer(updatedCustomer, index) {
        let customers = JSON.parse(localStorage.getItem('customers')) || [];
        customers[index] = updatedCustomer; // Update customer in array
        localStorage.setItem('customers', JSON.stringify(customers));
        // Reload the table
        accountsTable.innerHTML = ''; // Clear table
        loadCustomers(); // Reload table with updated customers
    }

    // Delete customer from table and localStorage
    function deleteCustomer(rowIndex) {
        let customers = JSON.parse(localStorage.getItem('customers')) || [];
        customers.splice(rowIndex, 1); // Remove customer from array
        localStorage.setItem('customers', JSON.stringify(customers));
        // Reload the table
        accountsTable.innerHTML = ''; // Clear table
        loadCustomers(); // Reload table with remaining customers
    }
</script>


  


      <a style="z-index: 999999999;" href="support.html" class="user-account"><i class="ri-customer-service-2-line"></i>
        Support</a>



      <div>

      </div>
  </section>





























    
    
    
    
    <!-- Time & Date -->
    <script>
        function updateClock() {
            const clockElement = document.getElementById("digitalClock");
            const now = new Date();
            
            let hours = now.getHours();
            let minutes = now.getMinutes();
            let ampm = hours >= 12 ? 'PM' : 'AM';
    
            hours = hours % 12;
            hours = hours ? hours : 12; // Convert hour '0' to '12'
            minutes = minutes < 10 ? '0' + minutes : minutes;
    
            const currentTime = hours + ':' + minutes + ' ' + ampm;
            clockElement.innerHTML = currentTime;
        }
    
        function updateDate() {
            const dateElement = document.getElementById("currentDate");
            const now = new Date();
            
            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const months = [
                'January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'
            ];
    
            const dayOfWeek = days[now.getDay()];
            const dayOfMonth = now.getDate();
            const month = months[now.getMonth()];
            const year = now.getFullYear();
    
            const suffix = (dayOfMonth % 10 === 1 && dayOfMonth !== 11) ? 'st' :
                           (dayOfMonth % 10 === 2 && dayOfMonth !== 12) ? 'nd' :
                           (dayOfMonth % 10 === 3 && dayOfMonth !== 13) ? 'rd' : 'th';
    
            const currentDate = `${dayOfWeek} ${dayOfMonth}${suffix} ${year}`;
            dateElement.innerHTML = currentDate;
        }
    
        setInterval(updateClock, 1000); // Update clock every second
        updateClock(); // Initial call to display the clock immediately
        updateDate();  // Display the current date immediately
    </script>
    
    
    
    
    
    
    <script>
        // Universal function to check if a user is logged in
        function checkLoginStatus() {
            const loggedInUser = localStorage.getItem('loggedInUser');
            if (!loggedInUser) {
                // If no user is logged in, redirect to the login page
                window.location.href = 'login.html';
            }
        }
        
        // Call the function on page load
        checkLoginStatus();
        
        </script>
    
    <script>
        // Function to display the company name
        function displayCompanyName() {
            // Get the logged-in user's email from localStorage
            const loggedInUserEmail = localStorage.getItem('loggedInUser');
    
            if (loggedInUserEmail) {
                // Retrieve the user data using the email as the key
                const userData = JSON.parse(localStorage.getItem('user_' + loggedInUserEmail));
    
                if (userData && userData.companyName) {
                    // Update the innerHTML of the div with the company name
                    document.querySelector('.name').innerHTML = userData.companyName;
                }
            } else {
                // If no user is logged in, redirect to login page
                window.location.href = 'login.html';
            }
        }
    
        // Call the function on page load
        displayCompanyName();
    </script>
    
        
    
        
    <!-- Date & Time -->
        <script>
          function displayLastLogoutTime() {
        const lastLogoutTimeString = localStorage.getItem('lastLogoutTime');
    
        if (lastLogoutTimeString) {
            const lastLogoutTime = new Date(lastLogoutTimeString);
            const currentTime = new Date();
            const timeDifference = currentTime - lastLogoutTime;
            const millisecondsInADay = 24 * 60 * 60 * 1000;
    
            let timeLabel = '';
            const lastLogoutDate = lastLogoutTime.getDate();
            const currentDate = currentTime.getDate();
    
            if (currentDate === lastLogoutDate) {
                timeLabel = 'Today';
            } else if (currentDate - lastLogoutDate === 1) {
                timeLabel = 'Yesterday';
            } else {
                const daysAgo = Math.floor(timeDifference / millisecondsInADay);
                if (daysAgo <= 7) {
                    timeLabel = `${daysAgo} days ago`;
                } else {
                    const options = { weekday: 'long', month: 'long', day: 'numeric' };
                    timeLabel = lastLogoutTime.toLocaleDateString(undefined, options);
                }
            }
    
            const timeOptions = { hour: 'numeric', minute: 'numeric', hour12: true };
            const formattedTime = lastLogoutTime.toLocaleTimeString(undefined, timeOptions);
    
            // Update the innerHTML of the h4 inside the #lastLogout div
            document.getElementById('lastLogout').querySelector('h4').innerHTML = `<strong>${timeLabel},</strong> ${formattedTime}`;
        } else {
            // If there's no logout time stored, display a default message
            document.getElementById('lastLogout').querySelector('h4').innerHTML = '<strong>Never Logged Out</strong>';
        }
    }
    
    // Call the function on page load
    displayLastLogoutTime();
    
        </script>
    
    
    
    <!-- Logout -->
    <script>
      
        function logout() {
            // Save the current time as the logout time
            const logoutTime = new Date();
            localStorage.setItem('lastLogoutTime', logoutTime);
        
            // Remove the login data from localStorage
            localStorage.removeItem('loggedInUser');
            
            // Redirect to the login page
            window.location.href = 'login.html';
        }
        
        </script>
    
    <script>
        // Function to handle logging out
    function logout() {
        // Remove the login data from localStorage
        localStorage.removeItem('loggedInUser');
        
        // Redirect the user to the login page
        window.location.href = 'login.html';
    }
    
    // Attach the logout function to the logout icon
    document.getElementById('log_out').addEventListener('click', logout);
    
    </script>
    
    </body>
    </html>